{"version":3,"sources":["components/Person.js","components/FilterForm.js","components/NewPersonForm.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Person","_ref","person","onClick","react_default","a","createElement","name","number","FilterForm","value","onChange","NewPersonForm","newName","newNumber","onSubmit","handleNumberChange","handleNameChange","type","Notification","message","className","baseUrl","services_persons","axios","get","then","res","data","newObject","post","id","put","concat","delete","App","_useState","useState","_useState2","Object","slicedToArray","persons","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","personFilter","setPersonFilter","_useState9","_useState10","notification","setNotification","useEffect","personService","initialPersons","newNotification","setTimeout","components_Notification","components_FilterForm","event","target","components_NewPersonForm","preventDefault","filter","length","window","confirm","oldPerson","find","updatedPerson","map","catch","error","alert","toUpperCase","includes","components_Person","key","deletePerson","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.d05fea02.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Person = ({ person, onClick }) => {\r\n    return (\r\n        <li>\r\n            {person.name} {person.number}\r\n            <button onClick={onClick}>poista</button>\r\n        </li>\r\n    )\r\n}\r\n\r\nexport default Person","import React from 'react'\r\n\r\nconst FilterForm = ({ value, onChange }) => {\r\n    return (\r\n        <div>\r\n            rajaa näytettäviä: <input\r\n                value={value}\r\n                onChange={onChange}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default FilterForm","import React from 'react'\r\n\r\nconst NewPersonForm = ({newName, newNumber, onSubmit, handleNumberChange, handleNameChange}) => {\r\n    return (\r\n        <div>\r\n            <form onSubmit={onSubmit}>\r\n                <div>\r\n                    nimi: <input\r\n                        value={newName}\r\n                        onChange={handleNameChange}\r\n                    />\r\n                    <br />\r\n                    numero: <input\r\n                        value={newNumber}\r\n                        onChange={handleNumberChange}\r\n                    />\r\n                </div>\r\n                <div>\r\n                    <button type=\"submit\">lisää</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NewPersonForm","import React from 'react'\r\n\r\nconst Notification = ({ message }) => {\r\n    if (message === null) {\r\n        return null\r\n    }\r\n\r\n    return (\r\n        <div className=\"notification\">\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(res => res.data)\r\n}\r\n\r\nconst create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(res => res.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(res => res.data)\r\n}\r\n\r\nconst deletePerson = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(res => res.data)\r\n}\r\n\r\nexport default { getAll, create, update, deletePerson }","import React, { useState, useEffect } from 'react'\r\nimport Person from './components/Person'\r\nimport FilterForm from './components/FilterForm'\r\nimport NewPersonForm from './components/NewPersonForm'\r\nimport Notification from './components/Notification'\r\nimport personService from './services/persons'\r\n\r\nconst App = () => {\r\n    const [persons, setPersons] = useState([])\r\n    const [newName, setNewName] = useState('')\r\n    const [newNumber, setNewNumber] = useState('')\r\n    const [personFilter, setPersonFilter] = useState('')\r\n    const [notification, setNotification] = useState(null)\r\n\r\n    useEffect(() => {\r\n        personService\r\n            .getAll()\r\n            .then(initialPersons => {\r\n                setPersons(initialPersons)\r\n            })\r\n    }, [])\r\n\r\n    const handleNameChange = (event) => {\r\n        setNewName(event.target.value)\r\n    }\r\n\r\n    const handleNumberChange = (event) => {\r\n        setNewNumber(event.target.value)\r\n    }\r\n\r\n    const handlePersonFilterChange = (event) => {\r\n        setPersonFilter(event.target.value)\r\n    }\r\n\r\n    const newNotification = message => {\r\n        setNotification(\r\n            message\r\n        )\r\n        setTimeout(() => {\r\n            setNotification(null)\r\n        }, 5000)\r\n    }\r\n\r\n    const addPerson = (event) => {\r\n        event.preventDefault()\r\n\r\n        if (persons.filter(person => person.name === newName).length > 0) {\r\n            if (window.confirm(`Päivitetäänkö yhteystieto '${newName}'`)) {\r\n                const oldPerson = persons.find(person => person.name === newName)\r\n                const updatedPerson = {\r\n                    name: newName,\r\n                    number: newNumber,\r\n                    id: oldPerson.id\r\n                }\r\n                personService\r\n                    .update(oldPerson.id, updatedPerson)\r\n                    .then(res => {\r\n                        setPersons(persons.map(person => person.id !== res.id ? person : res))\r\n                        newNotification(`Yhteystieto '${res.name}' päivitetty`)\r\n                        setNewName('')\r\n                        setNewNumber('')\r\n                    })\r\n                    .catch(error => {\r\n                        alert(`Yhteystieto '${oldPerson.name}' on jo poistettu palvelimelta`)\r\n                        setPersons(persons.filter(person => person.id !== oldPerson.id))\r\n                    })\r\n            }\r\n        } else {\r\n            const personObject = {\r\n                name: newName,\r\n                number: newNumber\r\n            }\r\n            personService\r\n                .create(personObject)\r\n                .then(res => {\r\n                    setPersons(persons.concat(res))\r\n                    newNotification(`Yhteystieto '${res.name}' lisätty`)\r\n                    setNewName('')\r\n                    setNewNumber('')\r\n                })\r\n        }\r\n    }\r\n\r\n    const deletePerson = id => {\r\n        const person = persons.find(person => person.id === id)\r\n        if (window.confirm(`Poistetaanko ${person.name}?`)) {\r\n            personService.deletePerson(id).then(res => {\r\n                setPersons(persons.filter(person => person.id !== id))\r\n                newNotification(`Yhteystieto '${person.name}' poistettu`)\r\n            }).catch(error => {\r\n                alert(`Yhteystieto '${person.name}' on jo poistettu palvelimelta`)\r\n                setPersons(persons.filter(person => person.id !== id))\r\n            })\r\n\r\n        }\r\n    }\r\n\r\n    const personsToShow = () =>\r\n        persons.filter(person => person.name.toUpperCase().includes(personFilter.toUpperCase()))\r\n\r\n    const rows = () =>\r\n        personsToShow().map(person =>\r\n            <Person\r\n                key={person.id}\r\n                person={person}\r\n                onClick={() => deletePerson(person.id)}\r\n            />\r\n        )\r\n\r\n    return (\r\n        <div>\r\n            <h2>Puhelinluettelo</h2>\r\n            <Notification message={notification} />\r\n            <FilterForm value={personFilter} onChange={handlePersonFilterChange} />\r\n            <h2>lisää uusi</h2>\r\n            <NewPersonForm\r\n                newName={newName}\r\n                newNumber={newNumber}\r\n                handleNumberChange={handleNumberChange}\r\n                handleNameChange={handleNameChange}\r\n                onSubmit={addPerson}\r\n            />\r\n            <h2>Numerot</h2>\r\n            <ul>\r\n                {rows()}\r\n            </ul>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}